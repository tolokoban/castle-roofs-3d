require("step007",function(e,r){"use strict";var t=require("lights"),o=require("castles"),s=require("mesh.castle"),i=require("mesh.hero"),a=require("controls"),l=require("mover"),c=require("follower"),n=require("three.canvas"),h=(new THREE.Color(65280),new THREE.Color(9457664),new THREE.Color(255),function(e){n.call(this,e),t["default"](this.scene);var r=parseInt(e.castle);isNaN(r)&&(r=0);var a=o.getCopyOfCastle(r),h=s(a);this.setCamera(e.cameraX||4,e.cameraY||4,e.cameraZ||0,e.lookAtX||0,e.lookAtY||3,e.lookAtZ||0),this._speed1=3e-4;var p=new i;p.position.x=-a.cols/2,p.position.y=a.heights[0],p.position.z=-a.rows/2,this._mover=new l({mesh:p,castle:a,col:0,row:0}),this._follower=new c({mesh:p,camera:this.camera,castle:a});var u=new THREE.Group;u.add(h,p),this._grp=u,this.scene.add(u),this.start()});h.prototype=Object.create(n.prototype),h.prototype.constructor=h,h.prototype.onRender=function(e,r){var t=this._mover;t.move(e);t.getDir(),t.getPos();this._follower.look(e),a.left===!0?t.left():a.right===!0?t.right():a.forward===!0?t.forward():t.stop()},r.exports=h});
//# sourceMappingURL=step007.js.map